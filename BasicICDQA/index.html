<!DOCTYPE html>
<html>
<head>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1548733331544768"
     crossorigin="anonymous"></script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PHBZ8EJY6J"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PHBZ8EJY6J');
</script>

<meta charset="UTF-8">
<title>Basic ICD Concept: Questions and Answers</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="heart rhythm, electrophysiology, sudden cardiac death, electrogram, ICD, long QT, inherited, ventricular arrhythmias">
<meta name="author" content="t'Thon">
<meta property="og:image" content="basicICDQA.png">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link href="https://fonts.googleapis.com/css?family=Exo+2|Satisfy|Roboto" rel="stylesheet">
<link rel="icon" href="box transparent.png" type="image/png" sizes="60x60">

</head>

<style>

.exo {font-family: 'Exo 2', sans-serif;}
.san2 {font-family: 'Roboto', sans-serif;}
.cursive {font-family: 'Satisfy', cursive;}

.dkGrey {background-color: #0B0C10}
.grey {background-color: #1F2833}
.ltGrey {background-color: #e4e4e5}
.green {background-color: #295E61;}
.green2 {color: #84bb7b}
.dkGreen {background-color:#113332;}

.title {width:100vw;height: 100vh;background: linear-gradient(to right,#113332, #295E61);
  transform: skewY(-15deg);transform-origin: top left}
.titleTxt {transform: skewY(15deg);transform-origin: top left}
.titlePad {padding: 15vh 10vw 10vh 10vw;cursor: pointer;}
.fbPos {top: 90vh;right: 5vw;position: absolute;font-size:1.2vmax;line-height: 150%;text-align: right}
#title {font-size:2vmax;color:#c5c6c7;font-family: 'Roboto', sans-serif;line-height: 100%}


.sectionH {font-family: 'Exo 2', sans-serif;color: #84bb7b;font-size:2.2vmax;
            padding:0.5vmax 1vmax;}
.sectionD {font-family: 'Roboto', sans-serif;font-size:2vmax;color:white;display: none;padding:1vmax;border-top:0.1vmax groove #f1f2f3 }
.popUpFormat{font-family: 'Roboto', sans-serif;font-size:2vmax;padding:1vmax 2.5vmax;background-color: rgba(256, 256, 256,0.8);}
.arrowD, .arrowDH {display: none;cursor: pointer;}
.arrowR, .arrowRH {cursor: pointer;}
.topCurve {border-top-left-radius: 1vmax;border-top-right-radius: 1vmax}
.imageSetup {max-width:100%;max-height: 80vh;padding: 0.5vmax}
.nav {position: fixed;top: 92vh;font-size: 2.5vh;text-align: center;width: 100%;margin-left: auto;margin-right: auto;}
.navBtn {box-shadow: rgba(59, 59, 59, 0.6) 2px -2px 4px;border-radius: 0.2vmax;padding: 0.3vh 2vmax;
background-color: #c5c6c7;display: block;text-align: center;cursor: pointer;float: left;margin-right: 0.1vw;}

@media only screen and (max-width: 600px){
  .sectionD, .sectionH {font-size: 24px;}
  .titlePad {padding-top:30vh}
  .title {transform: skewY(-30deg)}
  .titleTxt {transform: skewY(30deg)}
  .nav {font-size: 22px;width: fit-content;top:calc(92vh-100px)}
  .navBtn {padding:8px 16px;}
}
@media only screen and (max-width: 800px){
  .sectionD, .sectionH {font-size: 24px;}
  .fbPos {top:92vh;right:3vw}
  .imageSetup {width:100%;max-height:auto;}
  .nav {font-size: 22px;width: fit-content;top:calc(92vh-100px)}
  .navBtn {padding:8px 16px;}
}

#clinical {white-space:pre-line}
#exp {white-space:pre-line}
#aImage {cursor: pointer}
#indexList {position: fixed;max-height:50vh;max-width:50vw;display: none;font-size: 1.8vmax;
overflow-x: hidden;overflow-y:scroll;z-index: 2;background-color:rgba(241, 241, 241,0.95);
box-shadow: rgba(59, 59, 59, 0.6) 2px -2px 4px;}

.pointer {
    cursor: pointer;
    height: 0.5em;
    width: 0.5em;
    background-color: #fc553d;
    border-radius: 50%;
    position: fixed;
    z-index: 1;
    animation: blink 1.5s linear infinite;
    }
    @keyframes blink{
    0%{opacity: 0;}
    50%{opacity: 0.7}
    100%{opacity: 1;}
    }

#loader {
  margin-left: 42vw;margin-top:5vw;
  border: 1.5vw solid #f3f3f3;
  border-radius: 50%;
  border-top: 1.5vw solid #d1001c;
  width: 8vw;
  height: 8vw;
  -webkit-animation: spin 3s linear infinite; /* Safari */
  animation: spin 3s linear infinite;
}

/* Safari */
@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
@keyframes fadeInOut {
  0% {opacity: 0;}
  100% {opacity: 1;}
}

</style>

<body>

<!--front page-->
<div id="frontP" class="red" onclick="showQPage(0)" title="click here to continue" style="cursor: pointer;">
    <div class="title">
      <div class="titleTxt">
        <div class="titlePad" style="font-size: 6vmax;line-height: 90%">
            <div>
              <span class="cursive" style="color:white">&nbsp; Basic </span><br>
              <span class="exo" style="color:#84bb7b;z-index: 2;position: relative">
                ICD Concept</span>
            </div>
            <div class="exo" style="font-size: 3.5vmax;line-height: 150%">

                <span style="border:#c5c6c7 0.1vmax solid;padding: 0">
                  <span style="background-color:#c5c6c7;color:#1F2833;padding:0vmax 0.4vmax">
                  Questions</span>
                  <span style="padding:0;color:#c5c6c7">&</span>
                  <span style="background-color:#c5c6c7;color:#1F2833;padding:0vmax 0.4vmax">
                   Answers</span>
                </span>
            </div>
            <div class="cursive" 
            style="color: #b7b7b7;font-size: 2vmax;animation: fadeInOut 5s infinite;">
            - - -> click to begin
          </div>
        </div>
        <div class="exo fbPos" style="color: #1F2833;">
          <a href="https://heartrhythmbox.com/" target="_blank" style="text-decoration:none;font-size: 1.4vmax;">
                  <img src="box transparent.png" style="width:2.5vmax;"><br>
                  heartRhythmBox.com
            </a>
        </div>
      </div>
    </div>
  </div>
  
<!--footer-->
<div id="footer" class="san2" style="font-size: 1.7vmax;padding:3vmax 3vmax;
text-align: center;color:#555;font-weight: 600;line-height: 200%;border-top: #555 solid 0.1vmin;">
  
  <span style="font-weight: 400;">
  Follow me at<br> <a href="https://heartrhythmbox.com" style="cursor: pointer;text-decoration: none;">
    <img src="box transparent.png" style="width: 1.8vmax;">    
    HeartRhythmBox.com
  </a>&nbsp;
  <br>
  <a href="https://www.facebook.com/HeartRhythmBox/" style="text-decoration: none;cursor: pointer;">
    <img src="facebook.png" style="width: 1.8vmax;">    
    @HeartRhythmBox
  </a>
</span>
<br>
  HeartRhythmBox is an education page on Clinical Cardiac Electrophysiology.<br>
  
</div>


<!--questions-->
<div id="q" class="dkGreen" style="display: none;min-height: 100vh">
  <!--start pointer-->
  <div onclick="pointer()">
    <span class="pointer" style="display: none"></span>

  <!--number-->
  <div id="qNo" class="green2 cursive" style="font-size:4vmax;padding: 0.5vmax;text-align: center;">
      Question
  </div>
  <!--div id="demo" style="color:white"></div-->
  <!--clinical detail-->
  <div id="clinicalH" class="w3-row sectionH">
        <span class="arrowR">&nbsp;&#9656;</span><span class="arrowD">&nbsp;&#9662;</span>
        <span class="arrowRH">Clinical Detail</span>
        <span class="arrowDH">Clinical Detail</span>
      <div id="clinical" class="w3-container sectionD">

      </div>
  </div>

  <!--Qimage-->
  <div id="qImageH" class="sectionH">
      <span class="arrowR">&nbsp;&#9656;</span><span class="arrowD">&nbsp;&#9662;</span>
      <span class="arrowRH">Figure</span>
      <span class="arrowDH">Figure</span>

      <div id="qImageP" class="sectionD" ondblclick="popUp()">
        <div id="loader"></div>
        <!--img id="qImage" style="max-width:100%;max-height: 80vh;padding: 0.5vmax"-->
      </div>
  </div>

  <!--mainQ-->
  <div id="mainQH" class="sectionH">
      <span class="arrowR">&nbsp;&#9656;</span><span class="arrowD">&nbsp;&#9662;</span>
      <span class="arrowRH">The Question is...</span>
        <span class="arrowDH">The Question is...</span>
      <div id="mainQ" class="sectionD">
          </div>
  </div>

  <!--choices-->
  <div id="choicesH" class="sectionH">
      <span class="arrowR">&nbsp;&#9656;</span><span class="arrowD">&nbsp;&#9662;</span>
      <span class="arrowRH">Answer Options</span>
        <span class="arrowDH">Answer Options</span>
      <div id="choices" class="sectionD" style="padding-left:2vmax">
        choices</div>
  </div>

  <!--popup page-->
  <div id="popUp" class="w3-modal">
    <div class="w3-modal-content" style="width:100%">
      <div class="w3-row">
      <div id="qImageHolder" class="w3-col s8 popUpFormat">
        <img id="qImage2" style="width:100%;">
      </div>
      <div class="w3-col s4 popUpFormat">
        <div id="mainQ2">
        </div>
        <div id="choices2">
          choices</div>
      </div>
      </div>
    </div>
  </div>

  <!--answer-->
  <div style="padding:2vmax;" class="sectionH">
      <span class="arrowR">&nbsp;&#9656;</span><span class="arrowD">&nbsp;&#9662;</span>
      <span class="arrowRH">The answer is...</span>
        <span class="arrowDH">The answer is...</span>
      <div class="sectionD">
        <div id="answer" class="exo topCurve blood"
        style="color:white;font-size:2.5vmax;">
        Answer:
        </div>
        <div id="exp" class="san2" style="font-size:2vmax;color:#1F2833;background-color:#c5c6c7;padding: 1vmax;border-radius: 0.7vmax;">
        Explaination
        </div>
        <div id="aImageHolder">
          <img id="aImage" style="max-width:100%;max-height:75vh;padding-top:0.5vmax;padding-bottom: 0.5vmax">
        </div>
        <div>
          <a href="" id='ref' target="_blank" style="font-size:1.2vmax;color:#878787;overflow: hidden;padding:0.5vmax">
          </a>
        </div>
      </div>
  </div>


  <div class="exo" style="font-size:1vmax;color:#878787;
  padding: 5vmax 2vmax;text-align: center;">
    <div style="border-top: #878787 solid 0.1vmin;padding: 1vmax;">
    <a href="https://heartrhythmbox.github.io/main/" target="_blank" style="text-decoration:none;">
          <img src="box invert.png" style="width:1.8vmax;margin-left: auto;margin-right: auto;text-align: center;">
          <br>HeartRhythmBox.com
    </a>
    </div>
  </div>

  <!--nav bar-->
  <div class="nav">
    <!--index-->
    <ul id="indexList" class="san2" style="list-style-type:decimal;text-align: justify;">
    </ul>
    <ul id="navBar" class="exo" style="opacity: 0.8;text-align: center;list-style-type: none;display: inline-block;padding-left: 0;">
      <li class="navBtn">Home</li>
      <li class="navBtn">&nbsp;&LeftAngleBracket;&nbsp;</li>
      <li id="currentQ" class=" navBtn"></li>
      <li class="navBtn">&nbsp;&RightAngleBracket;&nbsp;</li>
    </ul>
  </div>



<!--end pointer--></div>
</div>



</body>

<script src="pointer.js" ></script>
<script>

var xmlData;var qNo=0;var zoom;
window.onload = function() {
  enableNavBtn();
  sectionClickable();
  loadXMLDoc();
}

var pSwitch = 0;
window.addEventListener("keydown", function(event) {
        event.preventDefault();
        if (event.keyCode===80) {
        pSwitch=pointerSwitch(pSwitch)
        }
    })


// Get the modal
var modal = document.getElementById('popUp');

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}

function popUp(){
  if (screen.width>800){
  document.getElementById('popUp').style.display='block'}
}

//get xml file and generate indexList
function loadXMLDoc() {
  var xml = new XMLHttpRequest();
  xml.open ('GET','QsAs.xml',false)
  xml.send();
  xmlData= xml.responseXML;
}

function enableNavBtn(){
  var btn = document.getElementsByClassName('navBtn');
  btn[0].onclick = function(){frontPage()};
  btn[1].onclick = function(){qNav(-1)};
  btn[3].onclick = function(){qNav(1)};

  //show Qindex
  btn[2].onclick = function(){
    showIndex()}
}

//cleanup
function cleanList(){
    var list = document.getElementById('indexList')
    list.style.display = "none"
    var old = list.getElementsByTagName('li').length
    if (old!=0){
      list.innerHTML = ""}
      
}


function showIndex(){
    var index = xmlData.getElementsByTagName('index')
    var list = document.getElementById('indexList')

    //check nav bar position
    var bar = document.getElementById('navBar')
    var rect = bar.getBoundingClientRect();
    x = rect.left;h = rect.height;w =rect.width;

    //check display status
    if (list.style.display == "inline-block"){
      cleanList()
    } else {
      list.style.display = "inline-block"

    }

    //generate list
    list.style.bottom = h + 'px';
    list.style.left = x + 'px';list.style.width = w + 'px'
    for (var i=0;i<index.length;i++){
      var text = index[i].childNodes[0].nodeValue;
      generateList(text)
    }

    function generateList(text){
      var newLi = document.createElement("li");
      var node = document.createTextNode(text)
      newLi.appendChild(node)
      list.appendChild(newLi)
      newLi.style.cursor = "pointer"
      newLi.onclick = function(){
        var n = matchIndex(text);cleanList();
        showQPage(n);qNo = n;
      }
    }

}

function matchIndex(node){
  var index = xmlData.getElementsByTagName('index')
  for (var i =0;i<index.length;i++){
    var text = index[i].childNodes[0].nodeValue
    if (node==text){
      var n=i;break;
    }
  }
  return n;
}

function qNav(x){
  //get total questions
  var qTotal = xmlData.getElementsByTagName('question').length
  var nextQ = qNo+x;

  if (nextQ<0){
    nextQ=qTotal-1
  } else if(nextQ==qTotal){
    nextQ=0;
  }
  qNo = nextQ

  showQPage(nextQ);cleanList();
}

var sectionStatus = [0,0,0,0,0]
function sectionClickable(){
  var aR = document.getElementsByClassName('arrowR')
  var aD = document.getElementsByClassName('arrowD')
  var headR = document.getElementsByClassName('arrowRH');
  var headD = document.getElementsByClassName('arrowDH');
  aR[0].onclick = function(){toggleSectionD(0)}
  aR[1].onclick = function(){toggleSectionD(1)}
  aR[2].onclick = function(){toggleSectionD(2)}
  aR[3].onclick = function(){toggleSectionD(3)}
  aR[4].onclick = function(){toggleSectionD(4)}
  aD[0].onclick = function(){toggleSectionD(0)}
  aD[1].onclick = function(){toggleSectionD(1)}
  aD[2].onclick = function(){toggleSectionD(2)}
  aD[3].onclick = function(){toggleSectionD(3)}
  aD[4].onclick = function(){toggleSectionD(4)}
  headR[0].onclick = function(){toggleSectionD(0)}
  headR[1].onclick = function(){toggleSectionD(1)}
  headR[2].onclick = function(){toggleSectionD(2)}
  headR[3].onclick = function(){toggleSectionD(3)}
  headR[4].onclick = function(){toggleSectionD(4)}
  headD[0].onclick = function(){toggleSectionD(0)}
  headD[1].onclick = function(){toggleSectionD(1)}
  headD[2].onclick = function(){toggleSectionD(2)}
  headD[3].onclick = function(){toggleSectionD(3)}
  headD[4].onclick = function(){toggleSectionD(4)}
}

function toggleSectionD(n){
    var D = document.getElementsByClassName('sectionD')
    var arrowR = document.getElementsByClassName('arrowR')
    var arrowD = document.getElementsByClassName('arrowD')
    var arrowRH = document.getElementsByClassName('arrowRH')
    var arrowDH = document.getElementsByClassName('arrowDH')
    if (sectionStatus[n]==0){
      D[n].style.display = "block";
      arrowR[n].style.display="none"; arrowD[n].style.display = "inline"
      arrowRH[n].style.display="none"; arrowDH[n].style.display = "inline"
      sectionStatus[n]=1;
      if (n==3||n==4){
        D[n].scrollIntoView({behavior: "smooth", block: "start"})
        if (screen.width>800){hCenter('aImageHolder')}
      }
    } else {
      D[n].style.display = "none";
      arrowD[n].style.display="none"; arrowR[n].style.display = "inline"
      arrowDH[n].style.display="none"; arrowRH[n].style.display = "inline"
      sectionStatus[n]=0
      }
}



function frontPage(){
  document.getElementById('q').style.display="none"
  document.getElementById('frontP').style.display="block"
  document.getElementById('footer').style.display="block"
  qNo=0;
}

function showQPage(n){
  //scroll to top
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
  
  //hide front page
  document.getElementById('q').style.display="block"
  document.getElementById('frontP').style.display="none"
  document.getElementById('footer').style.display="none"

  //reset section status
  for (var i=0;i<sectionStatus.length;i++){
    if (sectionStatus[i]==1) {
      toggleSectionD(i)
    }
  }


  //check page
  var page = n+1;
  var totalP = xmlData.getElementsByTagName('question').length

  //show current Q in qNav and qHeader
  document.getElementById('currentQ').innerHTML = '\xa0' +'Q'+ page +'\xa0' + '/' + totalP ;
  document.getElementById('qNo').innerHTML = "Question" + '\xa0' + page + '\xa0'

  //initially show some sections
  toggleSectionD(0);toggleSectionD(1);toggleSectionD(2)

  //create new element

  //create tags from XML
  var clinical = xmlData.getElementsByTagName("clinical")
  var qImage = xmlData.getElementsByTagName("qImage")
  var mainQ = xmlData.getElementsByTagName("mainQ")
  var choices = xmlData.getElementsByTagName("choices")
  var a = xmlData.getElementsByTagName("a");var b = xmlData.getElementsByTagName("b");
  var c = xmlData.getElementsByTagName("c");var d = xmlData.getElementsByTagName("d");
  var e = xmlData.getElementsByTagName("e");
  var answer = xmlData.getElementsByTagName("answer")
  var exp = xmlData.getElementsByTagName("exp")
  var aImage = xmlData.getElementsByTagName("aImage")
  var ref = xmlData.getElementsByTagName("ref")

  //check if there is a clinical detail
    if (clinical[n].childNodes[0].nodeValue=="NA"){
      document.getElementById('clinicalH').style.display = "none"
    } else {
      document.getElementById('clinicalH').style.display = "block"
    document.getElementById('clinical').innerHTML = clinical[n].childNodes[0].nodeValue}

  //clear old figure and reset loader
  document.getElementById('loader').style.display = "block"
  var parent = document.getElementById('qImageP')
  var child = document.getElementById('qImage')
      if (typeof(child) != 'undefined' && child != null){
      parent.removeChild(child)}

  //check if there is an image
    if (qImage[n].childNodes[0].nodeValue=="NA")
      {document.getElementById('qImageH').style.display = "none"}
    else {
      document.getElementById('qImageH').style.display = "block"
      
      //create element
      var qImg = document.createElement('img')
      qImg.setAttribute("src",qImage[n].childNodes[0].nodeValue)
      qImg.setAttribute("id", "qImage");qImg.setAttribute("class","imageSetup")
      document.getElementById('qImageP').appendChild(qImg)
      qImg.onload = function() {
        document.getElementById('loader').style.display = "none"
      }
      document.getElementById('qImage2').src = qImage[n].childNodes[0].nodeValue;
    }

  //
  document.getElementById('mainQ').innerHTML = mainQ[n].childNodes[0].nodeValue;
  document.getElementById('mainQ2').innerHTML = mainQ[n].childNodes[0].nodeValue;

  document.getElementById('choices').innerHTML = (
    "a) " + a[n].childNodes[0].nodeValue + "<br/>"+
    "b) " + b[n].childNodes[0].nodeValue + "<br/>"+
    "c) " + c[n].childNodes[0].nodeValue + "<br/>"+
    "d) " + d[n].childNodes[0].nodeValue + "<br/>"+
    "e) " + e[n].childNodes[0].nodeValue)
  document.getElementById('choices2').innerHTML = (
    "a) " + a[n].childNodes[0].nodeValue + "<br/>"+
    "b) " + b[n].childNodes[0].nodeValue + "<br/>"+
    "c) " + c[n].childNodes[0].nodeValue + "<br/>"+
    "d) " + d[n].childNodes[0].nodeValue + "<br/>"+
    "e) " + e[n].childNodes[0].nodeValue)
  document.getElementById('answer').innerHTML = answer[n].childNodes[0].nodeValue;
  document.getElementById('exp').innerHTML = exp[n].childNodes[0].nodeValue;

  //answer image
    if (aImage[n].childNodes[0].nodeValue=="NA"){
      document.getElementById('aImage').style.display = "none"
    } else {
      aImageZoom(1)
      document.getElementById('aImage').style.display = "block"
      document.getElementById('aImage').src = aImage[n].childNodes[0].nodeValue;
    }
  //zoom
  function aImageZoom(zoom){
    var img = document.getElementById('aImage')
    img.title = "double-click to zoom in/out"
    if (zoom==0){
      zoom=1;
      img.style.width = "100%";img.style.maxHeight = "fit-content";img.style.height = "auto"
      document.getElementById('aImageHolder').style.paddingLeft = 0;
            img.scrollIntoView({behavior: "smooth", block: "start"})
      img.ondblclick = function(){aImageZoom(zoom)}
      } else {
      zoom=0;img.ondblclick= function(){aImageZoom(zoom)}
      img.style.maxHeight = "75vh";img.style.width = "auto";
      if (screen.width>800){hCenter('aImageHolder')}
      document.getElementById('answer').scrollIntoView({behavior: "smooth", block: "start"})
    }
  }


  //ref
  if (ref[n].childNodes[0].nodeValue=="NA"){
    document.getElementById('ref').style.display = "none"
  } else {
    document.getElementById('ref').style.display = "block"
    document.getElementById('ref').innerHTML = "Ref: " + ref[n].childNodes[0].nodeValue;
    document.getElementById('ref').href = ref[n].childNodes[0].nodeValue;
  }

}

function hCenter(id){
  var i = document.getElementById(id)
  var iWidth = i.offsetWidth
  var width = window.innerWidth;
  var pad = (width-iWidth)/2;
  i.style.paddingLeft = pad + 'px'
}


</script>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

<style>
    button {cursor: pointer;border: none;background-color: pink;}
    #dayTable{max-width: 80vw;min-width: fit-content;margin-left: auto;margin-right: auto;
    border-collapse: collapse;text-align: center;display: block;overflow: scroll;}
    #dateCol, .roomCol, #dayTable td {border: 1px solid #ddd;border-collapse: collapse;}
    #dateCol {min-width: 20vw;}
    .roomCol {min-width: 60vw;cursor: pointer;}
    .timeLine {cursor: pointer;}
    #dateMenu, #roomMenu {display: none;position: absolute;z-index: 1;background-color: #f9f9f9;min-width: 20vw;
        border: #ddd 1px solid;border-radius: 1vw;box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);}
    #dateMenu :hover, #roomMenu :hover {background-color: #ddd;border-radius: 1vw;}
    .dateList,.roomList {padding: 0.5vw;cursor: pointer;}    

    .mobileOnly {display: none;}
    @media only screen and (max-width: 768px) {
        .noMobile {display: none;}
        .mobileOnly {display: table;}
    }
    .sticky {position: sticky;top: 0;z-index: 1;}

</style>
</head>

<body>
    <h1 id="meetingName" style="text-align: center;">Meeting Name</h1>
    <h3 id="meetingDate" style="text-align: center;">Meeting Date</h3>
    <table id="dayTable">
        <tr id="headerRow" class="sticky" style="background-color: pink;">
            <th id="dateCol">
                <button onclick="displayDateList()">Date&nbsp;&#9662;</button>
                <div id="dateMenu">
                    <div class="dateList">Date1</div>        
                    <div class="dateList">Date2</div>
                </div>
            </th>
            <th class="roomCol">
                <button onclick="displayRoomList()">Room&nbsp;&#9662;
                </button>
                <div id="roomMenu">
                    <div class="roomList">Room1</div>        
                    <div class="roomList">Room2</div>
                    <div class="roomList">Add/Edit</div>
                </div>
            </th>
        </tr>

    </table>

    
<script>

vh = (screen.height)/100
tenMin = 1.5*vh
document.getElementById('dayTable').style.height = tenMin*6*9+'px'
document.getElementById('headerRow').style.height = tenMin*3+'px'
showHour()

function showHour(){
    //hour view
    for (let index = 0; index < 48; index=index+0.5) {
        const newRow = document.createElement('tr')
        const parent = document.getElementById('dayTable')
        parent.appendChild(newRow)
        newRow.style.height = tenMin*3 + 'px'
        newRow.className = 'thirtyMinutes'

        for (let j = 0; j <= 1; j++) {
            var newD = document.createElement('td')
            newRow.appendChild(newD)

            if (j==0)
                {
                newD.className = 'timeLine'
                if (index%1==0){
                    newDay = new Date()
                    newDay.setHours(index,0);
                    var options = { hour: '2-digit', minute: '2-digit' };
                    time = newDay.toLocaleString('en-US', options)
                    newRow.style.borderTop = 'solid 3px grey'
                    newD.innerHTML = time
                    }
                }
            else {
                newD.innerHTML = 'room'+j;
                newD.className = 'roomCol';
                }
            newD.style.height = tenMin*3+'px'
            newD.style.borderLeft = 'solid #ddd 0.1vmax'
            newD.onclick = function(){timeBlock(index)}
        }
      
        if (index==16){
            newRow.scrollIntoView();
        }
    }

}



function displayDateList(){
    var menu = document.getElementById('dateMenu')

    //hide room menu
    document.getElementById('roomMenu').style.display = 'none'

    if (menu.style.display == 'block'){
        menu.style.display = 'none'
    } else {
        menu.style.display = 'block'
    }
}

function displayRoomList(){
    var menu = document.getElementById('roomMenu')

    //hide date menu
    document.getElementById('dateMenu').style.display = 'none'

    if (menu.style.display == 'block'){
        menu.style.display = 'none'
    } else {
        menu.style.display = 'block'
    }
}

function timeBlock(row){
    var time = document.getElementsByClassName('thirtyMinutes')
    
    //clear
    for (let index = 0; index < time.length; index++) {
        time[index].style.backgroundColor = 'white'        
    }

    time[row*2].style.backgroundColor = 'aqua'
}


</script>

</body>
</html>
<!DOCTYPE html>
<html>
<head>
    <link rel="icon" href="eGame\box coral.png" type="image/png" sizes="60x60">
    <meta name="author" content="t'Thon">
    <link rel="stylesheet" href="scoring.css">
</head>
<body>

<!--title & ECG-->
<div id="main">
    <h1 id= 'title' style="text-align:center"></h1>
    <div style="text-align:center">
    <img id="ecg">
    </div>
</div>


<form id="playerScoring" 
    style="font-size:2vmax;padding:1vmax" 
    method="POST" 
    data-netlify="true"
    >

    <div id="container" class="pContainer">
    <!--player1-->
    <div class="pBox">
    <h2 id="p1"></h2>
    <div class="aBox">
        <input type="checkbox" name="k1" class="input" onclick="updateScore(0,1)">
        <label class="label" for="k1"></label>
    </div>

    <div class="aBox">
        <input type="checkbox" name="k2" class="input" onclick="updateScore(1,1)">
        <label class="label" for="k2"></label>
    </div>

    <div class="aBox">
        <input type="checkbox" name="k3" class="input" onclick="updateScore(2,1)">
        <label class="label" for="k3"></label>
    </div>

    <div class="aBox">
        <input type="checkbox" name="k4" class="input" onclick="updateScore(3,1)">
        <label class="label" for="k4"></label>
    </div>

    <div class="aBox">
        <input type="checkbox" name="k5" class="input" onclick="updateScore(4,1)">
        <label class="label" for="k5"></label>
    </div>

    <div class="aBox">
        <input type="checkbox" name="k6" class="input" onclick="updateScore(5,1)">
        <label class="label" for="k6"></label>
    </div>

    <div class="aBox">
        <input type="checkbox" name="k7" class="input" onclick="updateScore(6,1)">
        <label class="label" for="k7"></label>
    </div>

    <div class="aBox">
        <input type="checkbox" name="k8" class="input" onclick="updateScore(7,1)">
        <label class="label" for="k8"></label>
    </div>
    <div class="aBox">
        <input type="checkbox" name="k9" class="input" onclick="updateScore(8,1)">
        <label class="label" for="k9"></label>
    </div>

    <div class="aBox">
        <input type="checkbox" name="k10" class="input" onclick="updateScore(9,1)">
        <label class="label" for="k10"></label>
    </div>
    <div style="padding: 1vmax;border-top:solid rgb(33,33,33) 0.2vmax;">
        <span style="font-size: 2.5vmax;font-weight:600;padding-top:1vmax">
            Score:</span>
        <input type="text" class="showScore" name="p1">
    </div>


    </div>

    <!--player2-->
    <div class="pBox">
        <h2 id="p2"></h2>
        <div class="aBox">
            <input type="checkbox" name="k11" class="input" onclick="updateScore(0,2)">
            <label class="label" for="k11"></label>
        </div>
    
        <div class="aBox">
            <input type="checkbox" name="k12" class="input" onclick="updateScore(1,2)">
            <label class="label" for="k12"></label>
        </div>
    
        <div class="aBox">
            <input type="checkbox" name="k13" class="input" onclick="updateScore(2,2)">
            <label class="label" for="k13"></label>
        </div>
    
        <div class="aBox">
            <input type="checkbox" name="k14" class="input" onclick="updateScore(3,2)">
            <label class="label" for="k14"></label>
        </div>
    
        <div class="aBox">
            <input type="checkbox" name="k15" class="input" onclick="updateScore(4,2)">
            <label class="label" for="k15"></label>
        </div>
    
        <div class="aBox">
            <input type="checkbox" name="k16" class="input" onclick="updateScore(5,2)">
            <label class="label" for="k16"></label>
        </div>
    
        <div class="aBox">
            <input type="checkbox" name="k17" class="input" onclick="updateScore(6,2)">
            <label class="label" for="k17"></label>
        </div>
    
        <div class="aBox">
            <input type="checkbox" name="k18" class="input" onclick="updateScore(7,2)">
            <label class="label" for="k18"></label>
        </div>
        <div class="aBox">
            <input type="checkbox" name="k19" class="input" onclick="updateScore(8,2)">
            <label class="label" for="k19"></label>
        </div>
    
        <div class="aBox">
            <input type="checkbox" name="k20" class="input" onclick="updateScore(9,2)">
            <label class="label" for="k20"></label>
        </div>
        <div style="padding: 1vmax;border-top:solid rgb(33,33,33) 0.2vmax;">
            <span style="font-size: 2.5vmax;font-weight:600;padding-top:1vmax">Score:</span>
            <input type="text" class="showScore" name="p2">
        </div>
    
        </div>
    
    <!--player3-->
    <div class="pBox">
        <h2 id="p3"></h2>
        <div class="aBox">
            <input type="checkbox" name="k21" class="input" onclick="updateScore(0,3)">
            <label class="label" for="k21"></label>
        </div>
    
        <div class="aBox">
            <input type="checkbox" name="k22" class="input" onclick="updateScore(1,3)">
            <label class="label" for="k22"></label>
        </div>
    
        <div class="aBox">
            <input type="checkbox" name="k23" class="input" onclick="updateScore(2,3)">
            <label class="label" for="k23"></label>
        </div>
    
        <div class="aBox">
            <input type="checkbox" name="k24" class="input" onclick="updateScore(3,3)">
            <label class="label" for="k24"></label>
        </div>
    
        <div class="aBox">
            <input type="checkbox" name="k25" class="input" onclick="updateScore(4,3)">
            <label class="label" for="k25"></label>
        </div>
    
        <div class="aBox">
            <input type="checkbox" name="k26" class="input" onclick="updateScore(5,3)">
            <label class="label" for="k26"></label>
        </div>
    
        <div class="aBox">
            <input type="checkbox" name="k27" class="input" onclick="updateScore(6,3)">
            <label class="label" for="k27"></label>
        </div>
    
        <div class="aBox">
            <input type="checkbox" name="k28" class="input" onclick="updateScore(7,3)">
            <label class="label" for="k28"></label>
        </div>

        <div class="aBox">
            <input type="checkbox" name="k29" class="input" onclick="updateScore(8,3)">
            <label class="label" for="k29"></label>
        </div>

        <div class="aBox">
            <input type="checkbox" name="k30" class="input" onclick="updateScore(9,3)">
            <label class="label" for="k30"></label>
        </div>


        <div style="padding: 1vmax;border-top:solid rgb(33,33,33) 0.2vmax;">
            <span style="font-size: 2.5vmax;font-weight:600;padding-top:1vmax">
                Score:</span>
            <input type="text" class="showScore" name="p3">
        </div>
    
        </div>
    
    <input id="questionNo" type="text" style="display:none;" name="qNo">
    </div>

    <div id="sBut" style="margin-left:auto;margin-right:auto;padding: 2vmax;text-align: center;color: #222;">   
        <input type="submit" value="SUBMIT"
            style="text-align:center;width:fit-content;padding:1vmax;cursor: pointer;
        font-size: 3vmax;">    
    </div>
</form>

<div id="showForm">

</div>
<div id="thank">
    Thank you very much.
</div>

</div>

<div id="foot" style="font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
font-size: 1.5vmax;text-align: center;color: #ababab;background-color: #555;
padding: 3vmax;">
    Electrocardiogame x CC2023 --- property of heartRhythmBox.com
</div>
<script src="scoring.js"></script>
<script>
var qNo = 0;
loadPage();
const handleSubmit = (event) => {
  event.preventDefault();

  const myForm = event.target;
  const formData = new FormData(myForm);
  var score = document.getElementsByClassName('showScore')
  document.getElementById('showForm').innerHTML = 'p1' + score[0].value
  + 'p2' + score[1].value + 'p3' + score[2].value;
  
  fetch("/", {
    method: "POST",
    headers: { "Content-Type": "application/x-www-form-urlencoded" },
    body: new URLSearchParams(formData).toString(),
  })
    .then(() => console.log("Form successfully submitted"))
    .catch((error) => alert(error));
  qNo++;
  if (qNo<=totalQ){
    loadPage();
    }
  else {document.getElementById('thank').style.display='block'
    document.getElementById('main').style.opacity='0.2'
    document.getElementById('playerScoring').style.opacity='0.2'
    document.getElementById('sBut').style.display = 'none'
    }
};

document
  .querySelector("form")
  .addEventListener("submit", handleSubmit);



</script>  



</body>
</html>
